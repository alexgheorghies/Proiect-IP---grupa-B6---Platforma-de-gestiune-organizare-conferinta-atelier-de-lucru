{{groovy}}
  def dir = "ConferenceList."
  def path = dir + "Conf"
  docPath = "ConferenceList.Conf" + ".Conf"
  println ""
{{/groovy}}

{{velocity}}
    $xwiki.jsfx.use('uicomponents/widgets/upload.js', true)
    $xwiki.ssfx.use('uicomponents/widgets/upload.css', true)

    {{html}}
    <html>
    <div id="CAP1">
        <form method="post">
            <input type="button" value="Create conference" onclick="ReplaceForm()">
        </form>
    </div>
    <div id="CAP2" style="display:none">
        <form method="post">
            <div class="col">
                <input type="text" id="confName" required="required" name="confName" placeholder="Name of conference">
                <br>
                <input type="number" id="nrOfPart" required="required" name="nrOfPart" placeholder="Number of participants">
                <br>
                <input type="text" id="orgName" required="required" name="orgName" placeholder="Name of organisator">
                <br>
                <input type="text" id="locOfConf" required="required" name="locOfConf" placeholder="Location of the conference">
                <br>
                <input type="date" id="dateOfConf" required="required" name="dateOfConf" placeholder="Date of conference">
                <br>
                <input type="number" id="nrOfPres" required="required" name="nrOfPres" placeholder="Number of presentations">
            </div>
            <input type="submit" value="Finish" >
        </form>
    </div>
  <script type="text/javascript">
        function ReplaceForm() {
            document.getElementById("CAP1").style.display = "none";
            document.getElementById("CAP2").style.display = "block";
        }
    </script>


{{/html}}


#if("$!request.confName" != '')
#set($newDoc = $xwiki.getDocument("$docPath"))
  #set($conf= $newDoc.newObject('XWiki.ConferenceClass'))

  $conf.set("ConferenceName", $request.confName)
  $conf.set("NumberOfParticipants", $request.nrOfPart)

  $conf.set("OrganiserName", $request.orgName)

  $conf.set("LocationOfConf", $request.locOfConf)

  $conf.set("DateOfConf", $request.dateOfConf)
$conf.set("NumberOfPresentations", $request.nrOfPres)
$newDoc.save()

#end

{{/velocity}}


(% id="CAP1" %)
(((
 
)))

(% id="CAP2" style="display:none" %)
(((
(% class="col" %)
(((
 
)))
)))


 
